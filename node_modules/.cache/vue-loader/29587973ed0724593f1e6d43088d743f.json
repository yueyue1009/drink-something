{"remainingRequest":"/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhengshipeng/Desktop/vue/a/drink-something/src/components/OrderForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhengshipeng/Desktop/vue/a/drink-something/src/components/OrderForm.vue","mtime":1621787676450},{"path":"/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCAoewogICAgbmFtZTogIk9yZGVyRm9ybSIsCiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2VsZWN0ZWQ6ICIiLAogICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgaWNlOiAiIiwKICAgICAgICAgICAgc3VnYXI6ICIiLAogICAgICAgICAgICBudW1iZXI6IDEKICAgICAgICB9CiAgICB9LAogICAgcHJvcHM6IFsicHJvZHVjdHMiLCAib3JkZXJzIl0sCiAgICBjb21wdXRlZDogewogICAgICAgIC8vIOaKiuWVhuWTgeaMieeFp+WIhumhnuS7peWPiuWDueagvOaOkuW6j+WlvSDku6Xkvr/lnKjpgbjllq7poa/npLoKICAgICAgICBzb3J0ZWRQcm9kdWN0czogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9CiAgICAgICAgICAgIHRoaXMucHJvZHVjdHMubWFwKHByb2R1Y3QgPT4gewogICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBwcm9kdWN0LnR5cGUKICAgICAgICAgICAgICAgIGlmKCEodHlwZSBpbiByZXN1bHQpKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3R5cGVdID0gW10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJlc3VsdFt0eXBlXS5wdXNoKHByb2R1Y3QpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZXN1bHQpCiAgICAgICAgICAgIGtleXMubWFwKGtleSA9PiB7CiAgICAgICAgICAgICAgICByZXN1bHRba2V5XS5zb3J0KChhLCBiKT0+IHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5wcmljZSAtIGIucHJpY2UKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHJldHVybiByZXN1bHQKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGNoZWNrOiBmdW5jdGlvbigpIHsKCiAgICAgICAgICAgIGlmKHRoaXMuc3VnYXIgPT0gIiIgfHwgdGhpcy5pY2UgPT0iIiB8fCB0aGlzLnNlbGVjdGVkID09IiIpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCLkuInlgIvmop3ku7bpg73opoHloavllpTvvIEiKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOaqouafpeaYr+WQpuacieebuOWQjOWTgemgheebuOWQjOeUnOW6puWGsOWhiuW3sue2k+iiq29yZGVy6YGOCiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLm9yZGVycy5sZW5ndGg7IGkrKyApewogICAgICAgICAgICAgICAgaWYodGhpcy5zZWxlY3RlZC5zcGxpdCgiICIpWzFdID09IHRoaXMub3JkZXJzW2ldLm5hbWUgJiYKICAgICAgICAgICAgICAgIHRoaXMuc3VnYXIgPT0gdGhpcy5vcmRlcnNbaV0ubm90ZXNbMF0uc3BsaXQoIiAiKVswXSAmJgogICAgICAgICAgICAgICAgdGhpcy5pY2UgPT0gdGhpcy5vcmRlcnNbaV0ubm90ZXNbMF0uc3BsaXQoIiAiKVsxXSApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm9yZGVyc1tpXS5udW1iZXIgKz0gdGhpcy5udW1iZXIKICAgICAgICAgICAgICAgICAgICByZXR1cm4gCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5vcmRlcnMucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnNlbGVjdGVkLnNwbGl0KCIgIilbMV0sIAogICAgICAgICAgICAgICAgcHJpY2U6IHRoaXMuc2VsZWN0ZWQuc3BsaXQoIiQiKVswXSwgCiAgICAgICAgICAgICAgICBub3RlczpbdGhpcy5zdWdhcisgIiAiICt0aGlzLmljZV0sIAogICAgICAgICAgICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcgogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYWRkOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5udW1iZXIrKzsKICAgICAgICB9LAogICAgICAgIHJlZHVjZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmKHRoaXMubnVtYmVyID4gMSkKICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyLS07CiAgICAgICAgfQogICAgfQp9KQo="},{"version":3,"sources":["OrderForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"form\">\n        <span class=\"product\">想喝什麼？</span>\n        <select class=\"product-selector\" v-model=\"selected\">\n            <option id=\"empty\"></option>\n            <optgroup  v-for=\"(val, type) in sortedProducts\" v-bind:label=type v-bind:key=type >\n                <option v-for=\"(product) in val\" v-bind:key=\"product.name\">\n                    {{product.price + \"$ \" +product.name}}\n                </option>\n            </optgroup>\n        </select>\n        <span class=\"sugar\">甜度</span>\n        <select  class=\"sugar-selector\" v-model=\"sugar\">\n            <option id=\"empty\"></option>\n            <option key=\"normal\">\n                正常糖\n            </option>\n            <option key=\"less\">\n                少糖\n            </option>\n            <option key=\"half\">\n                半糖\n            </option>\n            <option key=\"little\">\n                微糖\n            </option>\n            <option key=\"none\">\n                無糖\n            </option>\n        </select>\n        <span class=\"ice\">冰塊</span>\n        <select class=\"ice-selector\" v-model=\"ice\">\n            <option id=\"empty\"></option>\n            <option key=\"normal\">\n                正常冰\n            </option>\n            <option key=\"less\">\n                少冰\n            </option>\n            <option key=\"little\">\n                微冰\n            </option>\n            <option key=\"none\">\n                去冰\n            </option>\n        </select>\n        <div class=\"price\">\n            <!-- ${{order.number * order.price}} -->\n            ${{selected.split(\"$\")[0] * number}}\n        </div>\n        <button class=\"reduce\" v-on:click=\"reduce\" >\n           -\n        </button>\n        <div class=\"number\" v-bind:number=number>\n            {{number}}\n        </div>\n        <button class=\"add\" v-on:click=\"add\">\n            +\n        </button>\n        <button class=\"confirm\" v-on:click=\"check\">\n            確認\n        </button>\n    </div>\n</template>\n\n<script>\n\nexport default ({\n    name: \"OrderForm\",\n    data: function () {\n        return {\n            selected: \"\",\n            name: \"\",\n            ice: \"\",\n            sugar: \"\",\n            number: 1\n        }\n    },\n    props: [\"products\", \"orders\"],\n    computed: {\n        // 把商品按照分類以及價格排序好 以便在選單顯示\n        sortedProducts: function() {\n            const result = {}\n            this.products.map(product => {\n                let type = product.type\n                if(!(type in result)) {\n                    result[type] = []\n                }\n                result[type].push(product)\n            })\n            const keys = Object.keys(result)\n            keys.map(key => {\n                result[key].sort((a, b)=> {\n                    return a.price - b.price\n                })\n            })\n            return result\n        }\n    },\n    methods: {\n        check: function() {\n\n            if(this.sugar == \"\" || this.ice ==\"\" || this.selected ==\"\") {\n                alert(\"三個條件都要填喔！\")\n                return\n            }\n\n            // 檢查是否有相同品項相同甜度冰塊已經被order過\n            for(let i = 0; i < this.orders.length; i++ ){\n                if(this.selected.split(\" \")[1] == this.orders[i].name &&\n                this.sugar == this.orders[i].notes[0].split(\" \")[0] &&\n                this.ice == this.orders[i].notes[0].split(\" \")[1] ) {\n                    this.orders[i].number += this.number\n                    return \n                }\n            }\n            this.orders.push({\n                name: this.selected.split(\" \")[1], \n                price: this.selected.split(\"$\")[0], \n                notes:[this.sugar+ \" \" +this.ice], \n                number: this.number\n            })\n        },\n        add: function() {\n            this.number++;\n        },\n        reduce: function() {\n            if(this.number > 1)\n                this.number--;\n        }\n    }\n})\n</script>\n\n<style scoped>\n.form {\n    position: relative;\n    height: 150px;\n    width: 750px;\n    margin:0 auto;\n    border: solid 0.1px;\n    border-color: rgb(172, 170, 170);\n    margin:-1 auto;\n}\n\n.price {\n    position: absolute;\n    right:52px;\n    top: 30%;\n    font-size: 30px;\n}\n\n.product {\n    position: absolute;\n    left:45px;\n    top: 10px;\n}\n.sugar {\n    position: absolute;\n    left:200px;\n    top: 10px;\n}\n.ice {\n    position: absolute;\n    left:300px;\n    top: 10px;\n}\n\n.product-selector {\n    position: absolute;\n    left:45px;\n    top: 40px;\n}\n.sugar-selector {\n    position: absolute;\n    left:200px;\n    top: 40px;\n}\n.ice-selector {\n    position: absolute;\n    left:300px;\n    top: 40px;\n}\n\n.number {\n    position: absolute;\n    right:45px;\n    top: 100px;\n    font-size: 20px;\n    width: 60px;\n    height: 30px;\n    line-height: 32.67px;\n    border: solid;\n    border-width: 0.02px;\n    border-color: rgb(172, 170, 170);\n    margin:0px -1px -1px 0px;\n}\n\n.reduce {\n    position: absolute;\n    right:106px;\n    top: 100px;\n    height: 32.67px;\n    width: 30px;\n    font-size: 23px;\n    text-align:center;\n    background-color: white;\n    border: solid;\n    border-width: 0.02px;\n    border-color: rgb(172, 170, 170);\n    margin:0px -1px -1px -1px;\n}\n\n.add {\n    position: absolute;\n    right:16px;\n    top: 100px;\n    height: 32.67px;\n    width: 30px;\n    font-size: 23px;\n    text-align:center;\n    background-color: white;\n    border: solid;\n    border-width: 0.02px;\n    border-color: rgb(172, 170, 170);\n}\n\n.confirm {\n    position: absolute;\n    right:0px;\n    top: 0px;\n    height: 32.67px;\n    width: 60px;\n    font-size: 18px;\n    text-align:center;\n    background-color: white;\n    border: solid;\n    border-width: 0.02px;\n    border-color: rgb(172, 170, 170);\n    margin:0px -1px -1px -1px;\n}\n</style>\n"]}]}