{"remainingRequest":"/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/babel-loader/lib/index.js!/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhengshipeng/Desktop/vue/a/drink-something/src/components/OrderForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhengshipeng/Desktop/vue/a/drink-something/src/components/OrderForm.vue","mtime":1621787676450},{"path":"/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengshipeng/Desktop/vue/a/drink-something/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk9yZGVyRm9ybSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkOiAiIiwKICAgICAgbmFtZTogIiIsCiAgICAgIGljZTogIiIsCiAgICAgIHN1Z2FyOiAiIiwKICAgICAgbnVtYmVyOiAxCiAgICB9OwogIH0sCiAgcHJvcHM6IFsicHJvZHVjdHMiLCAib3JkZXJzIl0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOaKiuWVhuWTgeaMieeFp+WIhumhnuS7peWPiuWDueagvOaOkuW6j+WlvSDku6Xkvr/lnKjpgbjllq7poa/npLoKICAgIHNvcnRlZFByb2R1Y3RzOiBmdW5jdGlvbiBzb3J0ZWRQcm9kdWN0cygpIHsKICAgICAgdmFyIHJlc3VsdCA9IHt9OwogICAgICB0aGlzLnByb2R1Y3RzLm1hcChmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgIHZhciB0eXBlID0gcHJvZHVjdC50eXBlOwoKICAgICAgICBpZiAoISh0eXBlIGluIHJlc3VsdCkpIHsKICAgICAgICAgIHJlc3VsdFt0eXBlXSA9IFtdOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0W3R5cGVdLnB1c2gocHJvZHVjdCk7CiAgICAgIH0pOwogICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlc3VsdCk7CiAgICAgIGtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXN1bHRba2V5XS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYS5wcmljZSAtIGIucHJpY2U7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2s6IGZ1bmN0aW9uIGNoZWNrKCkgewogICAgICBpZiAodGhpcy5zdWdhciA9PSAiIiB8fCB0aGlzLmljZSA9PSAiIiB8fCB0aGlzLnNlbGVjdGVkID09ICIiKSB7CiAgICAgICAgYWxlcnQoIuS4ieWAi+aineS7tumDveimgeWhq+WWlO+8gSIpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDmqqLmn6XmmK/lkKbmnInnm7jlkIzlk4HpoIXnm7jlkIznlJzluqblhrDloYrlt7LntpPooqtvcmRlcumBjgoKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vcmRlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZC5zcGxpdCgiICIpWzFdID09IHRoaXMub3JkZXJzW2ldLm5hbWUgJiYgdGhpcy5zdWdhciA9PSB0aGlzLm9yZGVyc1tpXS5ub3Rlc1swXS5zcGxpdCgiICIpWzBdICYmIHRoaXMuaWNlID09IHRoaXMub3JkZXJzW2ldLm5vdGVzWzBdLnNwbGl0KCIgIilbMV0pIHsKICAgICAgICAgIHRoaXMub3JkZXJzW2ldLm51bWJlciArPSB0aGlzLm51bWJlcjsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMub3JkZXJzLnB1c2goewogICAgICAgIG5hbWU6IHRoaXMuc2VsZWN0ZWQuc3BsaXQoIiAiKVsxXSwKICAgICAgICBwcmljZTogdGhpcy5zZWxlY3RlZC5zcGxpdCgiJCIpWzBdLAogICAgICAgIG5vdGVzOiBbdGhpcy5zdWdhciArICIgIiArIHRoaXMuaWNlXSwKICAgICAgICBudW1iZXI6IHRoaXMubnVtYmVyCiAgICAgIH0pOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB0aGlzLm51bWJlcisrOwogICAgfSwKICAgIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKCkgewogICAgICBpZiAodGhpcy5udW1iZXIgPiAxKSB0aGlzLm51bWJlci0tOwogICAgfQogIH0KfTs="},{"version":3,"sources":["OrderForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,GAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,KAAA,EAAA,CAAA,UAAA,EAAA,QAAA,CAXA;AAYA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,cAAA,EAAA,0BAAA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,WAAA,QAAA,CAAA,GAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,IAAA,GAAA,OAAA,CAAA,IAAA;;AACA,YAAA,EAAA,IAAA,IAAA,MAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,GAAA,EAAA;AACA;;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,OAAA;AACA,OANA;AAOA,UAAA,IAAA,GAAA,MAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AACA,MAAA,IAAA,CAAA,GAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,iBAAA,CAAA,CAAA,KAAA,GAAA,CAAA,CAAA,KAAA;AACA,SAFA;AAGA,OAJA;AAKA,aAAA,MAAA;AACA;AAlBA,GAZA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,KAAA,EAAA,iBAAA;AAEA,UAAA,KAAA,KAAA,IAAA,EAAA,IAAA,KAAA,GAAA,IAAA,EAAA,IAAA,KAAA,QAAA,IAAA,EAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,CAAA;AACA;AACA,OALA,CAOA;;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,MAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,KAAA,QAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,KAAA,KAAA,MAAA,CAAA,CAAA,EAAA,IAAA,IACA,KAAA,KAAA,IAAA,KAAA,MAAA,CAAA,CAAA,EAAA,KAAA,CAAA,CAAA,EAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CADA,IAEA,KAAA,GAAA,IAAA,KAAA,MAAA,CAAA,CAAA,EAAA,KAAA,CAAA,CAAA,EAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAFA,EAEA;AACA,eAAA,MAAA,CAAA,CAAA,EAAA,MAAA,IAAA,KAAA,MAAA;AACA;AACA;AACA;;AACA,WAAA,MAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,KAAA,QAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CADA;AAEA,QAAA,KAAA,EAAA,KAAA,QAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAFA;AAGA,QAAA,KAAA,EAAA,CAAA,KAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,CAHA;AAIA,QAAA,MAAA,EAAA,KAAA;AAJA,OAAA;AAMA,KAvBA;AAwBA,IAAA,GAAA,EAAA,eAAA;AACA,WAAA,MAAA;AACA,KA1BA;AA2BA,IAAA,MAAA,EAAA,kBAAA;AACA,UAAA,KAAA,MAAA,GAAA,CAAA,EACA,KAAA,MAAA;AACA;AA9BA;AAhCA,CAAA","sourcesContent":["<template>\n    <div class=\"form\">\n        <span class=\"product\">想喝什麼？</span>\n        <select class=\"product-selector\" v-model=\"selected\">\n            <option id=\"empty\"></option>\n            <optgroup  v-for=\"(val, type) in sortedProducts\" v-bind:label=type v-bind:key=type >\n                <option v-for=\"(product) in val\" v-bind:key=\"product.name\">\n                    {{product.price + \"$ \" +product.name}}\n                </option>\n            </optgroup>\n        </select>\n        <span class=\"sugar\">甜度</span>\n        <select  class=\"sugar-selector\" v-model=\"sugar\">\n            <option id=\"empty\"></option>\n            <option key=\"normal\">\n                正常糖\n            </option>\n            <option key=\"less\">\n                少糖\n            </option>\n            <option key=\"half\">\n                半糖\n            </option>\n            <option key=\"little\">\n                微糖\n            </option>\n            <option key=\"none\">\n                無糖\n            </option>\n        </select>\n        <span class=\"ice\">冰塊</span>\n        <select class=\"ice-selector\" v-model=\"ice\">\n            <option id=\"empty\"></option>\n            <option key=\"normal\">\n                正常冰\n            </option>\n            <option key=\"less\">\n                少冰\n            </option>\n            <option key=\"little\">\n                微冰\n            </option>\n            <option key=\"none\">\n                去冰\n            </option>\n        </select>\n        <div class=\"price\">\n            <!-- ${{order.number * order.price}} -->\n            ${{selected.split(\"$\")[0] * number}}\n        </div>\n        <button class=\"reduce\" v-on:click=\"reduce\" >\n           -\n        </button>\n        <div class=\"number\" v-bind:number=number>\n            {{number}}\n        </div>\n        <button class=\"add\" v-on:click=\"add\">\n            +\n        </button>\n        <button class=\"confirm\" v-on:click=\"check\">\n            確認\n        </button>\n    </div>\n</template>\n\n<script>\n\nexport default ({\n    name: \"OrderForm\",\n    data: function () {\n        return {\n            selected: \"\",\n            name: \"\",\n            ice: \"\",\n            sugar: \"\",\n            number: 1\n        }\n    },\n    props: [\"products\", \"orders\"],\n    computed: {\n        // 把商品按照分類以及價格排序好 以便在選單顯示\n        sortedProducts: function() {\n            const result = {}\n            this.products.map(product => {\n                let type = product.type\n                if(!(type in result)) {\n                    result[type] = []\n                }\n                result[type].push(product)\n            })\n            const keys = Object.keys(result)\n            keys.map(key => {\n                result[key].sort((a, b)=> {\n                    return a.price - b.price\n                })\n            })\n            return result\n        }\n    },\n    methods: {\n        check: function() {\n\n            if(this.sugar == \"\" || this.ice ==\"\" || this.selected ==\"\") {\n                alert(\"三個條件都要填喔！\")\n                return\n            }\n\n            // 檢查是否有相同品項相同甜度冰塊已經被order過\n            for(let i = 0; i < this.orders.length; i++ ){\n                if(this.selected.split(\" \")[1] == this.orders[i].name &&\n                this.sugar == this.orders[i].notes[0].split(\" \")[0] &&\n                this.ice == this.orders[i].notes[0].split(\" \")[1] ) {\n                    this.orders[i].number += this.number\n                    return \n                }\n            }\n            this.orders.push({\n                name: this.selected.split(\" \")[1], \n                price: this.selected.split(\"$\")[0], \n                notes:[this.sugar+ \" \" +this.ice], \n                number: this.number\n            })\n        },\n        add: function() {\n            this.number++;\n        },\n        reduce: function() {\n            if(this.number > 1)\n                this.number--;\n        }\n    }\n})\n</script>\n\n<style scoped>\n.form {\n    position: relative;\n    height: 150px;\n    width: 750px;\n    margin:0 auto;\n    border: solid 0.1px;\n    border-color: rgb(172, 170, 170);\n    margin:-1 auto;\n}\n\n.price {\n    position: absolute;\n    right:52px;\n    top: 30%;\n    font-size: 30px;\n}\n\n.product {\n    position: absolute;\n    left:45px;\n    top: 10px;\n}\n.sugar {\n    position: absolute;\n    left:200px;\n    top: 10px;\n}\n.ice {\n    position: absolute;\n    left:300px;\n    top: 10px;\n}\n\n.product-selector {\n    position: absolute;\n    left:45px;\n    top: 40px;\n}\n.sugar-selector {\n    position: absolute;\n    left:200px;\n    top: 40px;\n}\n.ice-selector {\n    position: absolute;\n    left:300px;\n    top: 40px;\n}\n\n.number {\n    position: absolute;\n    right:45px;\n    top: 100px;\n    font-size: 20px;\n    width: 60px;\n    height: 30px;\n    line-height: 32.67px;\n    border: solid;\n    border-width: 0.02px;\n    border-color: rgb(172, 170, 170);\n    margin:0px -1px -1px 0px;\n}\n\n.reduce {\n    position: absolute;\n    right:106px;\n    top: 100px;\n    height: 32.67px;\n    width: 30px;\n    font-size: 23px;\n    text-align:center;\n    background-color: white;\n    border: solid;\n    border-width: 0.02px;\n    border-color: rgb(172, 170, 170);\n    margin:0px -1px -1px -1px;\n}\n\n.add {\n    position: absolute;\n    right:16px;\n    top: 100px;\n    height: 32.67px;\n    width: 30px;\n    font-size: 23px;\n    text-align:center;\n    background-color: white;\n    border: solid;\n    border-width: 0.02px;\n    border-color: rgb(172, 170, 170);\n}\n\n.confirm {\n    position: absolute;\n    right:0px;\n    top: 0px;\n    height: 32.67px;\n    width: 60px;\n    font-size: 18px;\n    text-align:center;\n    background-color: white;\n    border: solid;\n    border-width: 0.02px;\n    border-color: rgb(172, 170, 170);\n    margin:0px -1px -1px -1px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}